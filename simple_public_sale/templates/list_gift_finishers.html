{% extends 'base.html' %}

{% block content %}
    <style>

        .form-control {
            padding: 0;
        }

    </style>
    <div class="container mt-4">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'list-all-events' %}">Eventos</a></li>
                <li class="breadcrumb-item active">{{ evento.nome }}</li>
            </ol>
            <ol class="breadcrumb">
                    <button type="button" class="btn btn-primary" name="btn-imprimir" id="btn-imprimir" onclick="printpage();">Imprimir</button>
            </ol>



        </nav>

        <div class="row mt-3">
            <table id="example" class="table table-striped table-bordered table-responsive-md" cellspacing="0"
                   width="100%">
                <thead>
                <tr>
                    <th>Prenda</th>
                    <th>Doador primário</th>
                    <th>Doador</th>
                    <th>Arrematador</th>
                    <th>Status</th>
                    <th>Valor</th>
                </tr>
                </thead>
                <tfoot>
                <tr>
                    <th>Prenda</th>
                    <th>Doador primário</th>
                    <th>Doador</th>
                    <th>Arrematador</th>
                    <th>Status</th>
                    <th>Valor</th>
                </tr>
                </tfoot>
                <tbody>


                {% for prenda in prendas %}
                    <tr>
                        <td>{{ prenda.tipo_prenda.nome }}</td>
                        <td>{{ prenda.get_doador_primario }}</td>
                        <td>{{ prenda.doador }}</td>
                        <td>{{ prenda.get_arrematador.apelido }}</td>
                        <td>{% if prenda.is_doada %} Prenda doada {% else %} Receber prenda {% endif %}</td>
                        <td>R${{ prenda.get_movimento_arremate.valor }}</td>

                    </tr>

                {% endfor %}

                </tbody>
            </table>
        </div>
    </div>




{% endblock %}

{% block scripts %}
<script>
        $(document).ready(function () {
            $('#example').DataTable({
                "language": {
                    "sEmptyTable":
                        "Nenhum registro encontrado",
                    "sInfo":
                        "Mostrando de _START_ até _END_ de _TOTAL_ registros",
                    "sInfoEmpty":
                        "Mostrando 0 até 0 de 0 registros",
                    "sInfoFiltered":
                        "(Filtrados de _MAX_ registros)",
                    "sInfoPostFix":
                        "",
                    "sInfoThousands":
                        ".",
                    "sLengthMenu":
                        "_MENU_ resultados por página",
                    "sLoadingRecords":
                        "Carregando...",
                    "sProcessing":
                        "Processando...",
                    "sZeroRecords":
                        "Nenhum registro encontrado",
                    "sSearch":
                        "Pesquisar",
                    "oPaginate":
                        {
                            "sNext":
                                "Próximo",
                            "sPrevious":
                                "Anterior",
                            "sFirst":
                                "Primeiro",
                            "sLast":
                                "Último"
                        }
                    ,
                    "oAria":
                        {
                            "sSortAscending":
                                ": Ordenar colunas de forma ascendente",
                            "sSortDescending":
                                ": Ordenar colunas de forma descendente"
                        }
                }
            });
        });
            function printpage() {

                var printButton = document.getElementById("btn-imprimir");
                printButton.style.visibility = 'hidden';
                window.print();
                printButton.style.visibility = 'visible';
            }
    </script>
{% endblock %}